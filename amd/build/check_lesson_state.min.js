define(["jquery","core/ajax","core/str"],function(e,i,s){return{init:function(n){const o=e("#preparing-gif-container"),t=e("#status-container");o.show(),function e(){i.call([{methodname:"local_lessonation_check_state",args:{adhocid:n}}])[0].done(function(n){1===n[0].state?s.get_strings([{key:"lessoncreated",component:"local_lessonation"},{key:"clickhere",component:"local_lessonation"}]).done(function(e){o.hide(),t.html('<div class="alert alert-success">'+e[0]+' <a href="'+M.cfg.wwwroot+"/mod/lesson/view.php?id="+n[0].lessonid+'">'+e[1]+"</a></div>")}):setTimeout(e,5e3)}).fail(function(){s.get_string("error_checking_state","local_lessonation").done(function(e){o.hide(),t.html('<div class="alert alert-danger">'+e+"</div>")})})}()}}});